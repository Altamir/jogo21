package com.test;

import static org.junit.Assert.*;

import javax.swing.plaf.synth.SynthOptionPaneUI;

import org.junit.Before;
import org.junit.Test;

import com.classes.Baralho;
import com.classes.NAIPE;

public class TestBaralho {

	private Baralho baralho;

	@Before
	public void setUp() {
		baralho = Baralho.factoryBaralho();
		baralho.ordenar();
	}
	
	@Test
	public void testCriarBaralho(){
		assertEquals(baralho, Baralho.factoryBaralho());
	}
	
	@Test
	public void tesPrimeiraCarta(){
		assertEquals("Às de Copas", baralho.getCarta(0).toString());
	}

	@Test
	public void testListaBarallho() {
		StringBuffer esperado = listaDeCartasOrdenadas();
		assertEquals(esperado.toString(), baralho.listarBaralho());
	}

	private StringBuffer listaDeCartasOrdenadas() {
		StringBuffer esperado = new StringBuffer();
		esperado.append(stringPara(NAIPE.COPAS));
		esperado.append(stringPara(NAIPE.ESPADAS));
		esperado.append(stringPara(NAIPE.OURO));
		esperado.append(stringPara(NAIPE.PAUS));
		return esperado;
	}

	private String stringPara(NAIPE naipe) {
		StringBuffer esperado = new StringBuffer();
		
		esperado.append("Às de " + naipe.toString() + "\r\n");
		for (int i = 2; i < 11; i++) {
			esperado.append(i + " de " + naipe.toString() + "\r\n");
		}
		esperado.append("Valete de " + naipe.toString() + "\r\n");
		esperado.append("Dama de " + naipe.toString() + "\r\n");
		esperado.append("Rei de " + naipe.toString() + "\r\n");
		return esperado.toString();
	}

}
